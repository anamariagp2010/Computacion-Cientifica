clc 
clear all
close all

t=1:160;
n = 160;
%datos Dolar
%b = [42.68;47.57;54.83;64.55;79.63;101.84;144.68;196.1;244.38;302.06;386.46;507.33;630.81;680.95;786.54;826.4;912.89;1036.43;1140.96;1426.24;1756.9;2088.14;2300.1;2506.55;2875.91;2628.47;2321.49;2358.96;2076.24;1967.11;2153.3;2044.23;1846.97;1797.79;1869.1;2000.33;2743.39;3050.98;2951.32;2956.43;3281.09];
%Datos Poblaci√≥n
%b=[25733673;26312994;28447000;29080000;29718000;30360000;31004000;31329000;31433000;32092000;32764000;33443000;34125000;34834000;35530000;36208000;36863000;37490000;38100000;38600000;39200000;39700000;40296000;40814000;41329000;41849000;42368000;42889000;43406000;43927000;44451000;44979000;45510000;46045000;46582000;47121000;47662000;48203000;48748000;49292000]/10000000;

%Datos Que provocan sobreajuste
b = [42.68;47.57;54.83;64.55;79.63;101.84;144.68;196.1;244.38;302.06;386.46;507.33;630.81;680.95;786.54;826.4;912.89;1036.43;1140.96;1426.24;1756.9;2088.14;2300.1;2506.55;2875.91;2628.47;2321.49;2358.96;2076.24;1967.11;2153.3;2044.23;1846.97;1797.79;1869.1;2000.33;2743.39;3050.98;2951.32;2956.43;3281.09;42.68;47.57;54.83;64.55;79.63;101.84;144.68;196.1;244.38;302.06;386.46;507.33;630.81;680.95;786.54;826.4;912.89;1036.43;1140.96;1426.24;1756.9;2088.14;2300.1;2506.55;2875.91;2628.47;2321.49;2358.96;2076.24;1967.11;2153.3;2044.23;1846.97;1797.79;1869.1;2000.33;2743.39;3050.98;2951.32;2956.43;3281.09;42.68;47.57;54.83;64.55;79.63;101.84;144.68;196.1;244.38;302.06;386.46;507.33;630.81;680.95;786.54;826.4;912.89;1036.43;1140.96;1426.24;1756.9;2088.14;2300.1;2506.55;2875.91;2628.47;2321.49;2358.96;2076.24;1967.11;2153.3;2044.23;1846.97;1797.79;1869.1;2000.33;2743.39;3050.98;2951.32;2956.43;3281.09;42.68;47.57;54.83;64.55;79.63;101.84;144.68;196.1;244.38;302.06;386.46;507.33;630.81;680.95;786.54;826.4;912.89;1036.43;1140.96;1426.24;1756.9;2088.14;2300.1;2506.55;2875.91;2628.47;2321.49;2358.96;2076.24;1967.11;2153.3;2044.23;1846.97;1797.79;1869.1;2000.33;2743.39;3050.98;2951.32;2956.43;3281.09];
b = b';
plot(t(1:n),b(1:n),'b')
hold on

t1 = t(1:2:n);
b1 = b(1:2:n);

t2 = t(2:2:n);
b2 = b(2:2:n );

X = interTrozos(t1',b1');


p = zeros(1,length(t1));
p2 = zeros(1,length(t2));

for i= 1:length(t1)
    
    if i == length(t1)
        p(i) = X(1,i-1)*t1(i)+ X(2,i-1);
        p2(i) = X(1,i-1)*t2(i)+ X(2,i-1);
    else
        p(i) = X(1,i)*t1(i)+ X(2,i);
        p2(i) = X(1,i)*t2(i)+ X(2,i);
    end
    
end


% t2  son los valores que no pase a interMono
% en lugar de t crear un t1 y pasarlo a interMono
% en lugar de b pasar un b1 a interMono
% b2 menos p2 estamos encontrando el error del x calculado
% en interMono, pues compara los y reales versus los generados
% con el polinomio calculado e interMono
plot(t1,p,'.r','MarkerSize',10)
plot(t1,p,'r')

error = (p2-b2).^2
